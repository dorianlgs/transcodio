<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcodio</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="16" cy="16" r="14" stroke="url(#gradient)" stroke-width="2"/>
                    <path d="M12 10 L12 22 L20 16 Z" fill="url(#gradient)"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop offset="0%" stop-color="#667eea"/>
                            <stop offset="100%" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>Transcodio</h1>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section" id="uploadSection">
                <div class="upload-area" id="uploadArea">
                    <svg class="upload-icon" width="64" height="64" viewBox="0 0 64 64" fill="none">
                        <circle cx="32" cy="32" r="30" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                        <path d="M32 20 L32 44 M20 32 L44 32" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                    <h2>Arrastra tu archivo de audio aquí</h2>
                    <p>o haz clic para seleccionar</p>
                    <p class="file-info">Soporta MP3, WAV, M4A, FLAC, OGG • Máx 100MB • Hasta 60 minutos</p>
                    <input type="file" id="fileInput" accept="audio/*" hidden>
                </div>
                <div class="upload-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enableDiarization">
                        <span class="checkbox-custom"></span>
                        <span class="checkbox-text">Identificar hablantes</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="enableMinutes">
                        <span class="checkbox-custom"></span>
                        <span class="checkbox-text">Generar minuta de reunión</span>
                    </label>
                </div>
            </section>

            <!-- Processing Section -->
            <section class="processing-section hidden" id="processingSection">
                <div class="processing-card">
                    <div class="spinner"></div>
                    <h3>Transcribiendo tu audio...</h3>
                    <p class="processing-status" id="processingStatus">Subiendo archivo...</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section hidden" id="resultsSection">
                <div class="results-header">
                    <h2>Resultados de Transcripción</h2>
                    <div class="results-actions">
                        <button class="btn btn-secondary" id="downloadBtn">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M9 3 L9 12 M5 9 L9 13 L13 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M3 15 L15 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            TXT
                        </button>
                        <button class="btn btn-secondary" id="downloadSrtBtn">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M9 3 L9 12 M5 9 L9 13 L13 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M3 15 L15 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            SRT
                        </button>
                        <button class="btn btn-secondary" id="downloadVttBtn">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M9 3 L9 12 M5 9 L9 13 L13 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M3 15 L15 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            VTT
                        </button>
                        <button class="btn btn-primary" id="newTranscriptionBtn">Nueva Transcripción</button>
                    </div>
                </div>

                <div class="metadata" id="metadata">
                    <span class="metadata-item">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M8 8 L8 5 M8 8 L10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <span id="duration">--</span>
                    </span>
                    <span class="metadata-item">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5"/>
                            <text x="8" y="11" text-anchor="middle" fill="currentColor" font-size="8">A</text>
                        </svg>
                        <span id="language">--</span>
                    </span>
                </div>

                <div class="audio-player-container">
                    <audio id="audioPlayer" controls></audio>
                </div>

                <div class="transcription-content">
                    <div class="segments" id="segments"></div>
                </div>

                <!-- Meeting Minutes Section -->
                <div class="minutes-section hidden" id="minutesSection">
                    <div class="minutes-header">
                        <h3>Minuta de Reunión</h3>
                        <button class="btn btn-secondary" id="downloadMinutesBtn">
                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M9 3 L9 12 M5 9 L9 13 L13 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M3 15 L15 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Descargar Minuta
                        </button>
                    </div>
                    <div class="minutes-loading hidden" id="minutesLoading">
                        <div class="spinner-small"></div>
                        <span>Generando minuta de reunión...</span>
                    </div>
                    <div class="minutes-content" id="minutesContent">
                        <div class="minutes-block">
                            <h4>Resumen Ejecutivo</h4>
                            <p id="minutesSummary"></p>
                        </div>
                        <div class="minutes-block">
                            <h4>Puntos Clave Discutidos</h4>
                            <ul id="minutesKeyPoints"></ul>
                        </div>
                        <div class="minutes-block">
                            <h4>Decisiones Tomadas</h4>
                            <ul id="minutesDecisions"></ul>
                        </div>
                        <div class="minutes-block">
                            <h4>Acciones Pendientes</h4>
                            <ul id="minutesActions" class="action-items-list"></ul>
                        </div>
                        <div class="minutes-block">
                            <h4>Participantes Mencionados</h4>
                            <div id="minutesParticipants" class="participants-tags"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Desarrollado por <a href="https://cifu.dev" target="_blank" rel="noopener noreferrer">cifu.dev</a></p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast"></div>

    <script src="/static/app.js"></script>
</body>
</html>
